from pylabs import q, p
from actionservice import ActionService

class ${className}(ActionService):

#for $method in $methods:
    @q.manage.applicationserver.expose
    def $method.name (self, $method.args):
        """
        $method.docs
        """
#set $line = ','.join($method.argNames)
        result = p.api.action.${domain}.${className}.${method.name}($line)
#if $method.name == 'getObject'
        # Deserialize the pymodel object
        from osis import ROOTOBJECT_TYPES
        import base64
        from osis.model.serializers import ThriftSerializer
        serialized_result = ROOTOBJECT_TYPES['$domain']['$className'].serialize(ThriftSerializer, result)
        encoded_result = base64.encodestring(serialized_result)
        return encoded_result
#else
        return result
#end if
#end for
