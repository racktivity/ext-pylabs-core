import os.path

from pylabs import q, p

from alkira.lfw import *

class portal(LFWService):
    def __init__(self):
    
        # Initialize API
        self.connection = p.api.model.ui
        module = os.path.abspath(os.path.dirname(__file__))
        tasklet_path = os.path.abspath(os.path.join(module, '..', '..', 'portal'))
        self._tasklet_engine = q.taskletengine.get(tasklet_path)
        self._tasklet_engine.addFromPath(os.path.join(q.dirs.baseDir,'lib','python','site-packages','alkira', 'tasklets'))
        self.db_config_path = q.system.fs.joinPaths(q.dirs.cfgDir, 'qconfig', 'dbconnections.cfg')

