%%dfdfdf
{loglevel, 4}.
%%%   =========
%%%   DEBUGGING

%%
%% loglevel: Verbosity of log files generated by ejabberd.
%% 0: No ejabberd log at all (not recommended)
%% 1: Critical
%% 2: Error
%% 3: Warning
%% 4: Info
%% 5: Debug
%%


%%
%% watchdog_admins: If an ejabberd process consumes too much memory, 
%% send live notifications to those Jabber accounts.
%%
%%{watchdog_admins, ["admin@example.org"]}.


%%%   ================
%%%   SERVED HOSTNAMES

%%
%% hosts: Domains served by ejabberd.
%% You can define one or several, for example:
%% {hosts, ["example.net", "example.com", "example.org"]}.
%%
{hosts,['example.net','example.com','example.org']}.

%%
%% route_subdomains: Delegate subdomains to other Jabber server.
%% For example, if this ejabberd serves example.org and you want
%% to allow communication with a Jabber server called im.example.org.
%%
%%{route_subdomains, s2s}.


%%%   ===============
%%%   LISTENING PORTS

%%
%% listen: Which ports will ejabberd listen, which service handles it
%% and what options to start it with.
%%
{listen,
 [

  {5222, ejabberd_c2s, [
            {certfile, "/opt/qbase3/apps/ejabberd2/conf/server.pem"}, starttls,
            {access, c2s},
            {shaper, c2s_shaper},
            {max_stanza_size, 65536}
               ]},

  %%
  %% To enable the old SSL connection method in port 5223:
  %%
  %%{5223, ejabberd_c2s, [
  %%            {certfile, "/opt/qbase3/apps/ejabberd2/conf/server.pem"}, tls,
  %%            {access, c2s},
  %%            {shaper, c2s_shaper},
  %%            {max_stanza_size, 65536}
  %%               ]},

  {5269, ejabberd_s2s_in, [
               {shaper, s2s_shaper},
               {max_stanza_size, 131072}
              ]},

  %%
  %% ejabberd_service: Interact with external components (transports...)
  %%
  %%{8888, ejabberd_service, [
  %%                {access, all}, 
  %%                {shaper_rule, fast},
  %%                {ip, {127, 0, 0, 1}},
  %%                {hosts, ["icq.example.org", "sms.example.org"],
  %%                 [{password, "secret"}]
  %%                }
  %%               ]},

  {5280, ejabberd_http, [
                         %%{request_handlers, [
             %%    {["web"], mod_http_fileserver}
             %%]},
             captcha,
             http_bind, 
             http_poll, 
             web_admin
            ]}

 ]}.
%%after listen
